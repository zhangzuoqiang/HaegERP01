<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="WEB-INF/template.xhtml">

    <ui:define name="header">
        <link rel="stylesheet" type="text/css" href="css/style.css"/>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
        <title>HaegERP - Employee Details</title>
    </ui:define>

    <ui:define name="body">
        <h:panelGrid columns="3">
            <p:outputLabel styleClass="labels" value="Name" for="txtName" />
            <p:inputText styleClass="textBoxes" id="txtName" disabled="#{employeeBean.formEmployee.disabled}"
                         value="#{employeeBean.formEmployee.txtName}" title="Name"
                         required="true" maxlength="80">
                <p:ajax update="msgName" event="change" />
            </p:inputText>
            <p:message for="txtName" id="msgName" display="icon"/>

            <p:outputLabel styleClass="labels" value="ID-Card" for="txtIdCard" />
            <p:inputText styleClass="textBoxes" id="txtIdCard" disabled="#{employeeBean.formEmployee.disabled}"
                         value="#{employeeBean.formEmployee.txtIdCard}" title="ID-Card"
                         required="true" maxlength="100">
                <p:ajax update="msgIdCard" event="change" />
            </p:inputText>
            <p:message for="txtIdCard" id="msgIdCard" display="icon" />

            <p:outputLabel styleClass="labels" value="Username" for="txtRegUsername" />
            <p:inputText styleClass="textBoxes" id="txtRegUsername" disabled="#{employeeBean.formEmployee.disabled}"
                         value="#{employeeBean.formEmployee.txtUsername}" title="ID-Card"
                         required="true" maxlength="100">
                <p:ajax update="msgUsername" event="change" />
            </p:inputText>
            <p:message for="txtRegUsername" id="msgUsername" display="icon" />

            <p:outputLabel styleClass="labels" value="Password" for="txtRegPassword" />
            <p:password styleClass="textBoxes" id="txtRegPassword" disabled="#{employeeBean.formEmployee.disabled}"
                         value="#{employeeBean.formEmployee.txtPassword}" title="Confirm Password"
                         required="#{employeeBean.formEmployee.required}" maxlength="100" >
                <f:validateLength minimum="5" />
                <p:ajax update="msgPassword" event="change" />
            </p:password>
            <p:message for="txtRegPassword" id="msgPassword" display="icon" />
            
            <p:outputLabel styleClass="labels" value="Confirm Password" for="txtConfirmPassword" />
            <p:password styleClass="textBoxes" id="txtConfirmPassword" disabled="#{employeeBean.formEmployee.disabled}"
                         value="#{employeeBean.formEmployee.txtConfirmPassword}" title="Confirm Password"
                         required="#{employeeBean.formEmployee.required}" maxlength="100"
                         validator="#{employeeBean.validateConfirmPassword}">
                <p:ajax update="msgConfirmPassword" event="change" />
            </p:password>
            <p:message for="txtConfirmPassword" id="msgConfirmPassword" display="icon" />
            
            <p:outputLabel styleClass="labels" value="Division" for="cbDivision" />
            <p:selectOneMenu panelStyle="width: 437px;" style="width: 447px;"
                             disabled="#{employeeBean.formEmployee.disabled}"
                             id="cbDivision" value="#{employeeBean.formEmployee.cbDivision}"
                             validatorMessage="Choose one please">
                <f:selectItem itemValue="-1" itemLabel="Choose One" />
                <c:forEach items="#{employeeBean.divisions}" var="division">
                    <f:selectItem itemValue="#{division.idDivision}"
                                  itemLabel="#{division.name}" />
                </c:forEach>
                <f:validateDoubleRange minimum="0" />
                <p:ajax update="msgDivision" />
            </p:selectOneMenu>
            <p:message for="cbDivision" id="msgDivision" display="icon"/>

            <p:outputLabel styleClass="labels" value="User Group" for="cbUserGroup" />
            <p:selectOneMenu panelStyle="width: 332px;" style="width: 342px;"
                             disabled="#{employeeBean.formEmployee.disabled}"
                             id="cbUserGroup" value="#{employeeBean.formEmployee.cbUserGroup}">
                <f:selectItem itemValue="-1" itemLabel="Choose One" />
                <c:forEach items="#{employeeBean.userGroups}" var="userGroup">
                    <f:selectItem itemValue="#{userGroup.idUserGroup}"
                                  itemLabel="#{userGroup.name}" />
                </c:forEach>
                <f:validateDoubleRange minimum="0" />
                <p:ajax update="msgUserGroup" />
            </p:selectOneMenu>
            <p:message for="cbUserGroup" id="msgUserGroup" display="icon"/>

            <p:outputLabel styleClass="labels" value="Salary Category" for="cbSalaryCategory" />
            <p:selectOneMenu panelStyle="width: 332px;" style="width: 342px;"
                             disabled="#{employeeBean.formEmployee.disabled}"
                             id="cbSalaryCategory" value="#{employeeBean.formEmployee.cbSalaryCategory}">
                <f:selectItem itemValue="-1" itemLabel="Choose One" />
                <c:forEach items="#{employeeBean.salaryCategories}" var="salaryCategory">
                    <f:selectItem itemValue="#{salaryCategory.idSalaryCategory}"
                                  itemLabel="#{salaryCategory.salaryFrom} - #{salaryCategory.salaryTo}" />
                </c:forEach>
                <f:validateDoubleRange minimum="0" />
                <p:ajax update="msgSalaryCategory" />
            </p:selectOneMenu>
            <p:message for="cbSalaryCategory" id="msgSalaryCategory" display="icon"/>

            <p:outputLabel styleClass="labels" value="Address" for="txtAddress" />
            <p:inputText styleClass="textBoxes" id="txtAddress" disabled="#{employeeBean.formEmployee.disabled}"
                         value="#{employeeBean.formEmployee.txtAddress}" title="Adress"
                         required="true" maxlength="100">
                <p:ajax update="msgAddress" event="change" />
            </p:inputText>
            <p:message for="txtAddress" id="msgAddress" display="icon"/>

            <p:outputLabel styleClass="labels" value="ZipCode" for="txtZipCode" />
            <p:inputText styleClass="textBoxes" disabled="#{employeeBean.formEmployee.disabled}"
                         id="txtZipCode" value="#{employeeBean.formEmployee.txtZipCode}"
                         required="true" title="ZipCode" maxlength="7">
                <f:validateRegex pattern="^[A-Za-z]-[0-9]{5}|[0-9]{5}$" />
                <p:ajax update="msgZipCode" event="change" />
            </p:inputText>
            <p:message for="txtZipCode" id="msgZipCode" display="icon"/>

            <p:outputLabel styleClass="labels" value="City" for="txtCity" />
            <p:inputText styleClass="textBoxes" disabled="#{employeeBean.formEmployee.disabled}"
                         id="txtCity" value="#{employeeBean.formEmployee.txtCity}"
                         required="true" title="City" maxlength="50">
                <p:ajax update="msgCity" event="change" />
            </p:inputText>
            <p:message for="txtCity" id="msgCity" display="icon"/>

            <p:outputLabel styleClass="labels" value="Region" for="txtRegion" />
            <p:inputText styleClass="textBoxes" disabled="#{employeeBean.formEmployee.disabled}"
                         id="txtRegion" value="#{employeeBean.formEmployee.txtRegion}"
                         title="Region" maxlength="50">
                <p:ajax update="msgRegion" event="change" />
            </p:inputText>
            <p:message for="txtRegion" id="msgRegion" display="icon"/>

            <p:outputLabel styleClass="labels" value="Country" for="txtCountry" />
            <p:inputText styleClass="textBoxes" disabled="#{employeeBean.formEmployee.disabled}"
                         id="txtCountry" value="#{employeeBean.formEmployee.txtCountry}" title="Country"
                         required="true" maxlength="50">
                <p:ajax update="msgCountry" event="change" />
            </p:inputText>
            <p:message for="txtCountry" id="msgCountry" display="icon" />

            <p:outputLabel styleClass="labels" value="E-Mail" for="txtEmail" />
            <p:inputText styleClass="textBoxes" disabled="#{employeeBean.formEmployee.disabled}"
                         id="txtEmail" value="#{employeeBean.formEmployee.txtEmail}" title="E-Mail"
                         required="true">
                <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                <p:ajax update="msgEmail" event="change" />
            </p:inputText>
            <p:message for="txtEmail" id="msgEmail" display="icon" />

            <p:outputLabel styleClass="labels" value="Phone Number" for="txtPhoneNumber" />
            <p:inputText styleClass="textBoxes" disabled="#{employeeBean.formEmployee.disabled}"
                         id="txtPhoneNumber" value="#{employeeBean.formEmployee.txtPhoneNumber}"
                         title="Length">
                <f:validateRegex pattern="^\+[0-9]*|[0-9]*$" />
                <p:ajax update="msgPhoneNumber" event="change" />
            </p:inputText>
            <p:message for="txtPhoneNumber" id="msgPhoneNumber" display="icon" />

            <p:outputLabel styleClass="labels" value="Mobile Number" for="txtMobileNumber" />
            <p:inputText styleClass="textBoxes" disabled="#{employeeBean.formEmployee.disabled}"
                         id="txtMobileNumber" value="#{employeeBean.formEmployee.txtMobileNumber}"
                         title="Length">
                <f:validateRegex pattern="^\+[0-9]*|[0-9]*$" />
                <p:ajax update="msgMobileNumber" event="change" />
            </p:inputText>
            <p:message for="txtMobileNumber" id="msgMobileNumber" display="icon" />
        </h:panelGrid>
        <h:panelGrid columns="3">
            <h:column>
                <p:commandButton styleClass="button" ajax="true"
                                 update="panel" id="btnEditSave"
                                 action="#{employeeBean.btnEditSave_ActionPerformed()}"
                                 value="#{employeeBean.formEmployee.btnEditSave_Name}" />
            </h:column>
            <h:column></h:column>
            <h:column>
                <p:commandButton  styleClass="button" ajax="#{employeeBean.formEmployee.btnCancel_Ajax}"
                                  update="panel" id="btnCancel" immediate="true"
                                  action="#{employeeBean.btnCancel_ActionPerformed()}"
                                  value="#{employeeBean.formEmployee.btnCancel_Name}" />
            </h:column>
        </h:panelGrid>
        <h:panelGroup>
            <p:growl sticky="true"/>
        </h:panelGroup>
    </ui:define>
</ui:composition>